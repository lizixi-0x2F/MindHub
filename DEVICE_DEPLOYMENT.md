# MindHub自动部署指南

本文档提供了将MindHub应用部署到iOS真机或模拟器的简便方法，减少人工操作步骤。

## 自动部署脚本

我们提供了两个自动部署脚本，您可以根据自己的需求选择使用：

### 1. 标准部署脚本 (`deploy_to_device.sh`)

此脚本使用Xcode的标准构建工具链进行部署：

```bash
./deploy_to_device.sh
```

**功能**：
- 支持部署到真机或模拟器
- 自动检测已连接的iOS设备和可用模拟器
- 清理旧的构建文件
- 构建应用并安装到目标设备
- 提供详细的部署过程反馈

**适用情况**：
- 首次部署
- 需要详细了解部署过程
- 不需要额外安装第三方工具

### 2. 快速部署脚本 (`quick_deploy.sh`)

此脚本针对真机使用`ios-deploy`工具进行快速部署，针对模拟器使用`simctl`命令：

```bash
./quick_deploy.sh
```

**功能**：
- 支持部署到真机或模拟器
- 真机部署：自动安装`ios-deploy`工具（如果尚未安装）
- 模拟器部署：使用`simctl`命令直接安装和启动应用
- 提供更快速的部署体验

**适用情况**：
- 重复部署时使用
- 追求更快的部署速度
- 愿意安装第三方工具

## 部署前准备

1. 对于真机部署：
   - 确保您的iOS设备已通过USB连接到Mac
   - 确认设备已解锁
   - 在设备上已信任您的Mac（如果首次连接）

2. 对于模拟器部署：
   - 确保已安装Xcode 15.0+
   - 已下载至少一个iOS模拟器

## 使用步骤

1. 运行部署脚本
   ```bash
   ./deploy_to_device.sh
   # 或
   ./quick_deploy.sh
   ```

2. 根据提示选择部署目标
   - 选择1：部署到真机设备
   - 选择2：部署到模拟器

3. 如果选择模拟器，根据列表选择特定的模拟器设备

4. 等待部署完成

## 首次安装后操作

首次安装应用后，您可能需要在iOS设备上信任开发者证书：

1. 前往设置 > 通用 > 设备管理
2. 找到与您Apple ID相关的开发者证书
3. 点击"信任"此开发者

## 常见问题解决

### 设备未被检测到
- 确保设备已解锁且已连接
- 尝试使用不同的USB端口或数据线
- 在Mac上重启"查找我的iPhone"服务

### 构建失败
- 检查Xcode是否已安装所有必要组件
- 确保项目中没有编译错误
- 运行`xcodebuild clean`清理项目

### 安装失败
- 确认开发者账号已被添加到Xcode中
- 检查设备是否运行受支持的iOS版本(iOS 17.0+)
- 确保设备处于开发者模式（设置 > 开发者）

### 模拟器问题
- 如果模拟器无法启动，尝试从Xcode中手动启动一次
- 如果应用安装成功但无法启动，检查Bundle ID是否正确
- 尝试删除并重新创建模拟器（Xcode > Devices and Simulators）

## 手动部署备选方案

如果自动部署失败，您始终可以通过Xcode IDE进行手动部署：

1. 打开MindHub.xcodeproj
2. 选择您的设备或模拟器作为目标
3. 点击运行按钮(▶)

如需更多帮助，请参考FINAL_DEPLOYMENT_GUIDE.md文件中的详细说明。 